https://cs.gmu.edu/~setia/cs475/slides/lecture5.pdf - semaphores and threads